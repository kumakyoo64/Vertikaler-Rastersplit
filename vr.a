!to "vr.prg", cbm

*=$0801
           !by $0b,$08,$0a,$00,$9e,$32,$30,$36,$31,$00,$00,$00

           jsr init

loop       lda #58
-          cmp $d012
           bne -

           lda #14
           sta $d021
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           ldy #24

           lda #26
           sta $d011 ; BL erzeugen

           lda #56   ; Grafik ein, BL aus
           sta $d011

           lda #6
           sta $d021
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop

           lda #27
           sta $d011 ; BL erzeugen

           lda #59
           sta $d011 ; Grafik ein, BL aus

           nop
           nop
           nop

---        ldx #6
-          nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop

           lda #27
           sta $d011 ; Grafik aus, BL ein

           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop

           lda #59
           sta $d011 ; Grafik ein

           dex
           bne -

           lda 0
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop

           lda #27
           sta $d011 ; Grafik aus, BL ein

           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop

           lda #56
           sta $d011 ; Grafik ein, BL aus

           nop
           nop
           nop
           nop
           nop
           nop
           nop
           nop
           dey
           beq +
           lda 0

           lda #27
           sta $d011 ; Grafik aus, BL ein

           lda #59
           sta $d011 ; Grafik ein, BL aus

           lda 0
           jmp ---

+          nop
           lda #27
           sta $d011 ; Grafik aus, BL ein

           jmp loop

init       lda #147
           jsr $ffd2

           sei

           lda $01
           and #251
           sta $01

           ldy #0
-          lda $d000,y
           sta $2000,y
           iny
           bne -

           ldy #0
-          lda $d100,y
           sta $2100,y
           iny
           cpy #64
           bne -

           lda $01
           ora #4
           sta $01

           lda #255
           ldy #0
-          sta $20d8,y
           iny
           cpy #8
           bne -

           ldy #0
           lda #27
-          sta $0400,y
           iny
           cpy #40
           bne -

--         ldy #0
m3
-          lda txt,y
m4
           sta $043e,y
           iny
           cpy #18
           bne -
           clc
           lda m3+1
           adc #18
           sta m3+1
           lda m3+2
           adc #0
           sta m3+2
           clc
           lda m4+1
           adc #$28
           sta m4+1
           lda m4+2
           adc #$00
           sta m4+2
           cmp #$08
           bne --

           ldy #14
-          tya
           sta $db9f,y
           iny
           cpy #$20
           bne -

--         ldy #0
m1
-          lda grafik,y
m2
           sta $2140,y
           iny
           cpy #$98
           bne -
           clc
           lda m1+1
           adc #$98
           sta m1+1
           lda m1+2
           adc #$00
           sta m1+2
           clc
           lda m2+1
           adc #$40
           sta m2+1
           lda m2+2
           adc #$01
           sta m2+2
           cmp #$40
           bne --

           lda #25
           sta $d018
           rts

txt
!scr "                  "
!scr "ein vertikaler    "
!scr "rastersplit ist   "
!scr "moeglich          "
!scr "                  "
!scr "                  "
!scr "hier ist links    "
!scr "grafik und rechts "
!scr "text zu sehen     "
!scr "                  "
!scr "                  "
!scr "fuer die anzeige  "
!scr "ist sehr exaktes  "
!scr "timing notwendig  "
!scr "                  "
!scr "                  "
!scr "ausserdem sind    "
!scr "einschraenkungen  "
!scr "hinzunehmen       "
!scr "                  "
!scr "                  "
!scr "                  "
!scr "created by berni  "
!scr "                  "

grafik
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,1,7,15,31,0,0,0,62,255,255,255,255,0,0,0,0,128,192,224,224,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,1,3,3,15,255,63,63,255,255,251,255,255,255,255,255,255,255,255
!by 255,223,255,242,255,255,255,254,254,248,248,0,192,224,224,128,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,6,3,15,31,63,255,255
!by 255,247,251,255,127,254,255,255,255,255,255,255,255,255,255,255,255,251
!by 254,255,255,255,255,255,255,255,224,224,224,192,192,128,128,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,1,1,0,2,2,3,32,72,116,62,85,84,117,91,15,15,63,63,125
!by 255,255,255,255,255,255,255,255,255,255,239,127,254,247,255,255,255,255
!by 255,255,255,255,255,255,255,255,255,254,254,188,252,248,248,224,240,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,87,7,143,15,159,31
!by 253,127,127,219,255,255,254,255,239,255,255,255,253,255,255,255,223,255
!by 255,255,255,255,239,255,255,255,191,255,251,255,255,255,255,255,224,224
!by 192,224,192,192,192,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,7
!by 15,63,63,127,251,255,255,255,255,239,255,253,255,255,255,223,253,255,255
!by 255,255,255,255,255,251,255,255,191,255,255,253,255,255,255,255,255,255
!by 247,255,255,255,254,254,222,252,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,1,3,7,7,15,15,15,15,255,255,255,255,255,127,255,255,255,255,255,223
!by 255,255,255,255,255,223,255,255,255,255,255,251,255,239,255,255,255,255
!by 238,255,127,255,247,255,253,253,242,224,248,248,240,240,192,128,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,7,15,15,15,31,63,62,255,254,255
!by 255,255,255,254,255,254,255,255,255,255,255,255,255,255,191,255,255,255
!by 255,250,255,255,255,255,255,255,223,255,255,128,128,128,128,128,128,128
!by 128,0,0,0,0,2,15,7,13,0,0,0,0,0,64,224,240,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,3,7,31,63
!by 127,255,255,255,255,255,255,255,255,255,239,255,255,255,255,255,255,247
!by 249,233,251,253,191,191,252,127,223,255,219,223,206,207,127,247,255,255
!by 255,191,223,127,128,148,219,247,255,255,255,255,31,190,231,253,91,157,125
!by 111,216,248,44,0,128,128,128,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,3,0,0,0,0,0,0,0,0,192,112,0,0,1,7,15,15,63,63,127,255,255,255,254
!by 248,160,128,255,255,255,95,61,127,127,255,255,247,255,127,254,255,255,255
!by 255,255,255,247,255,255,253,255,255,255,126,127,255,255,255,223,255,53,251
!by 126,253,255,126,191,235,255,235,227,255,249,241,253,254,79,191,155,255,235
!by 190,223,128,192,128,240,112,20,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 2,0,0,0,0,0,0,0,12,6,2,15,3,5,16,0,124,120,0,0,0,128,128,64,0,1,3,3,7,7,15
!by 15,255,255,255,255,255,255,255,255,255,223,255,239,221,219,134,0,127,255
!by 255,255,255,95,255,59,255,254,255,255,255,253,239,254,255,251,255,254,255
!by 223,255,255,255,255,255,254,191,255,253,254,154,255,159,218,230,244,250
!by 240,0,0,0,128,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2
!by 1,6,8,2,58,195,70,154,138,119,63,124,46,42,38,25,11,205,121,15,15,31,31,63
!by 63,63,127,254,254,252,124,248,240,240,224,2,3,2,15,31,47,7,5,254,191,199
!by 215,255,251,255,191,255,255,254,254,255,247,254,255,255,255,255,255,254
!by 191,255,255,95,255,251,255,253,251,253,254,160,192,192,192,247,127,219,255
!by 0,32,240,240,208,176,192,224,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,64,1
!by 0,128,3,7,151,190,254,110,47,11,251,122,232,39,78,239,127,255,247,247,255
!by 255,127,255,255,223,254,254,224,192,192,128,163,95,28,7,3,1,32,48,160,200
!by 234,113,255,31,63,123,127,95,255,255,223,255,255,253,255,255,255,255,255
!by 255,255,255,255,255,255,255,127,255,223,255,255,255,253,255,254,255,127
!by 239,255,255,181,249,96,160,32,80,216,148,230,240,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,18,2,5,0,13,0,32,0,223,219,254,63,127,35,103,31,255,255,247
!by 255,255,255,255,255,241,253,191,191,255,254,255,255,143,131,135,253,212
!by 242,91,232,234,247,179,251,63,95,61,47,255,255,191,255,253,223,255,219,239
!by 255,95,207,254,87,244,220,127,255,189,191,255,255,191,247,255,255,255,255
!by 255,255,190,255,235,242,227,251,247,242,227,251,240,180,112,184,246,177
!by 191,249,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,24,152,96,38,151,0,0,3,0,32,48,16,248
!by 207,63,190,159,63,31,127,95,255,239,255,251,223,255,255,175,255,247,255
!by 255,255,127,255,255,214,225,187,241,239,254,251,255,127,123,170,150,198
!by 226,156,254,114,127,251,127,126,251,223,255,88,88,232,187,63,255,243,115
!by 223,215,254,247,207,254,247,255,255,223,255,255,247,187,187,255,254,255
!by 255,255,207,239,255,255,232,244,184,223,253,255,158,251,0,0,0,0,208,232
!by 160,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,57,25,49,200,232,232,251,123,96,200,12,39,107,47,255,41,234
!by 135,129,128,128,224,171,80,251,190,229,118,48,12,212,116,255,255,222,111
!by 127,127,119,63,223,255,239,251,255,255,255,255,244,255,255,255,255,223,255
!by 255,254,175,191,255,255,174,255,223,227,231,251,239,243,243,251,255,254
!by 191,255,190,255,111,255,255,31,255,255,127,251,255,223,255,255,255,254,255
!by 255,253,191,223,246,254,254,255,255,255,190,255,32,0,0,172,216,252,127,222
!by 0,0,0,0,0,0,128,240,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,188,7,6,7,175,189,31,183,114,176,179,250,255,223,255,255,248,248
!by 207,239,238,255,75,219,240,52,152,153,251,255,255,251,63,111,255,251,183
!by 255,239,127,255,255,255,191,254,223,255,255,255,235,183,239,254,255,255
!by 215,253,253,223,231,255,255,191,191,223,247,255,223,181,159,253,239,255
!by 255,255,255,255,239,255,255,255,255,255,255,223,207,123,189,255,255,251
!by 252,252,244,251,252,127,223,111,38,143,139,14,9,251,249,249,248,220,204
!by 192,194,148,216,128,192,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,111,133,55,189,49,209,223,63,251,255,251,253,255,127
!by 255,255,255,221,187,222,255,255,255,255,255,255,255,255,237,255,255,255
!by 223,255,127,95,255,255,255,255,255,239,255,231,247,247,183,223,95,223,253
!by 223,255,245,255,255,191,31,127,255,255,175,231,182,255,255,255,127,255,127
!by 251,223,255,255,215,243,255,247,255,255,211,155,63,254,247,151,151,205,244
!by 244,240,252,251,233,253,255,54,36,192,128,143,29,111,254,130,130,206,211
!by 226,103,205,206,0,64,224,48,176,244,80,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,127,223,253,207,191,255,222,253,191,223
!by 255,191,239,255,231,167,255,255,255,255,111,247,255,255,255,255,235,255
!by 255,255,247,255,239,255,255,251,255,250,253,127,143,139,203,205,253,222
!by 127,127,239,251,255,109,127,118,255,222,231,255,239,127,30,15,47,31,255
!by 255,253,173,59,45,13,231,246,191,127,215,47,43,109,254,235,95,253,255,79
!by 55,63,187,243,255,253,255,255,255,255,255,237,239,251,48,179,245,248,108
!by 182,191,123,191,255,239,221,79,184,128,88,248,88,216,220,236,0,0,0,0,0,0,0
!by 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,251,255,254,247,238,255
!by 255,255,245,255,254,249,191,191,255,255,255,191,255,255,175,253,247,127
!by 127,255,255,255,255,255,191,255,253,255,255,239,127,254,255,255,254,31,253
!by 191,235,123,255,245,255,255,255,255,187,255,255,255,15,31,191,255,255,255
!by 223,255,247,127,238,127,255,221,255,255,111,127,253,253,253,253,253,253
!by 255,31,92,54,165,101,93,222,251,255,255,255,255,126,255,255,200,196,192
!by 192,193,225,66,63,135,3,135,135,157,181,127,255,254,118,254,254,251,223
!by 254,255,0,0,0,0,0,160,240,80,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
!by 0
